#!/usr/bin/python
#encoding=utf-8
import random
import webbrowser
import time
import os

quest_num = 10
add_max = 100
op_max = 90
pass_score = 90
pass_time = 30

start_time = time.time()
score = 0
for i in range(1,quest_num+1):
    op1 = 0
    op2 = 0
    A = 0
    B = 0
    C = 0
    D = 0
    while True:
      op1 = random.randint(0, 1)
      op2 = random.randint(0, 1)
      A = random.randint(1, op_max)
      B = random.randint(1, op_max)
      C = random.randint(1, op_max)
      if op1 == 0:
        op1_char = '-'
        if A - B < 0:
          continue
        if op2 == 0:
          op2_char = '-'
          D = A - B - C
          if D < 0:
            continue
          break
        elif op2 == 1:
          op2_char = '+'
          D = A - B + C
          if D > add_max:
            continue
          break
      else:
        op1_char = '+'
        if A + B > add_max:
          continue
        if op2 == 0:
          op2_char = '-'
          D = A + B - C
          if D < 0:
            continue
          break
        elif op2 == 1:
          op2_char = '+'
          D = A + B + C
          if D > add_max:
            continue
          break
    trynum = 1
    per_start_time = time.time()
    while True:
        calc_str = "(%0d):  %0d %s %0d %s %0d = "%(i,A,op1_char,B,op2_char,C)
        print(calc_str),
        d = raw_input('')
        try:
            d = int(d)
        except ValueError:
            continue
        result = (D == d)
        if result:
            print ' ‚úÖ'
            if trynum == 1: score = score+1
            break
        else:
            print ' ‚ùå'
        trynum = trynum + 1
    per_end_time = time.time()
    per_total_time = int(per_end_time-per_start_time)
    if per_total_time <= pass_time:
        print 'ËøôÈÅìÈ¢òÁî®‰∫Ü %0d Áßí, ÂæàÊ£íÂì¶‚ù§Ô∏è ' % (per_total_time)
    elif per_total_time <= pass_time * 1.5:
        print 'ËøôÈÅìÈ¢òÁî®‰∫Ü %0d Áßí, Âä†Ê≤πÂì¶üíõ' % (per_total_time)
    else:
        print 'ËøôÈÅìÈ¢òÁî®‰∫Ü %0d Áßí, Â§™ÊÖ¢ÂíØ, Ë¶ÅËÆ§Áúü‰∏Ä‰∫õÂì¶üíî' % (per_total_time)

score = int(score *100 / quest_num)
print '‰Ω†Âæó‰∫Ü %0d ÂàÜ'%score

end_time = time.time()
total_time = int(end_time-start_time)
avg_time = int(total_time/quest_num)
print '‰Ω†‰∏ÄÂÖ±Ëä±‰∫Ü %0d Áßí, Âπ≥Âùá‰∏ÄÈ¢òÁî®‰∫Ü %0d Áßí' % (total_time, avg_time)

#if score > pass_score and avg_time <= pass_time:
#    for file in os.listdir('/Users/lsxld/Documents/passwd'):
#        print('iPad ÂØÜÁ†ÅÊòØ'+file)
#else:
#    print('Ê≤°ÊúâËææÂà∞Ë¶ÅÊ±ÇÂì¶ÔºåËøò‰∏çËÉΩÂëäËØâ‰Ω†ÂØÜÁ†ÅÔºåÁªßÁª≠Âä™ÂäõÂêß!')
